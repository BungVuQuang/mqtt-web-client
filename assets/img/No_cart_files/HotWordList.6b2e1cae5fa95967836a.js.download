(("undefined"!=typeof self?self:this).webpackJsonp=("undefined"!=typeof self?self:this).webpackJsonp||[]).push([[75],{1015:function(t,e,r){"use strict";function n(t,e,r){for(var n=t.slice(),a=r||0===r?r:t.length,o=0;o<e.length;o++)n[a+o]=e[o];return n}function a(t,e){for(var r=[].concat(t),n=[];r.length>0;)n.push(r.splice(0,e));return n}function o(t,e){if(e<=0||t.length%e==0)return t;var r=t.length,n=parseInt(r/e,10)*e,a=t.slice(0,n),o=t.slice(r-e,r);return a.concat(o)}r.d(e,"b",function(){return n}),r.d(e,"c",function(){return a}),r.d(e,"a",function(){return o})},2115:function(t,e,r){"use strict";r.d(e,"a",function(){return n}),r.d(e,"b",function(){return a}),r.d(e,"c",function(){return o});var n=8,a=2,o="popSearch"},2116:function(t,e,r){"use strict";var n=r(0),a=r(61),o=r(53),i=r.n(o),c=r(402),s=r(261),u=r(444),f=r(332),d=r(96),l=r(137),p=r(2117),h=r.n(p);function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var b=function(t){var e,r;function a(e){var r;return(r=t.call(this,e)||this).onClick=r.onClick.bind(v(v(r))),r}r=t,(e=a).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r;var o=a.prototype;return o.onClick=function(){var t=this.props,e=t.keyword,r=t.trackingClick,n=t.searchParams,a=t.targetSearchParams,o=t.recordSearchHistory,i=t.index;Object(s.a)({action:"submitKeyboardSearch",data:{keyword:e,inputType:"popular_search",targetSearchParams:a,searchParams:n,isMallSearch:!!this.context.isOfficialShopPath,absoluteLocation:i,relativeLocation:i},track:this.props.contextOnTrack}),o(l.h.PRODUCT,e),r&&r()},o.render=function(){var t=this.props,e=t.trackingRef,r=t.keyword,a=t.targetSearchParams;return n.createElement(c.a,{onClick:this.onClick,to:Object(d.searchWithQuery)(a),className:h.a.keyword,innerRef:e},r)},a}(n.Component);b.contextTypes={isOfficialShopPath:i.a.bool},e.a=Object(a.d)(Object(u.b)("HotwordItem"),Object(f.a)())(b)},2117:function(t,e,r){t.exports={keyword:"_3Q70U3"}},2118:function(t,e,r){t.exports={container:"_22ueCY",list:"_2FqfOu"}},3593:function(t,e,r){"use strict";r.r(e);var n,a,o=r(0),i=r(56),c=r(2116),s=r(22),u=r(1015),f=r(18),d=r(1),l=Object(d.b)("FETCH_POP_SEARCH"),p="popsearch_sec";function h(){return(h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}var v={update_time:0,version:"",sections:(n={},n[p]={total:0,data:[]},n)},b=Object(s.a)(((a={})[l.REQUESTED]=function(t){return h({},t,{progress:f.b.REQ,error:0,state_update_time:0})},a[l.SUCCESS]=function(t,e){var r,n=e.payload,a=n.offset,o=n.data,i=n.shouldReset,c=t&&t.data||v;return h({},t,{data:h({},c,{update_time:o.update_time,version:o.version,sections:h({},c.sections,(r={},r[p]={total:o.sections[p].total,data:Object(u.b)(i?[]:c.sections[p].data,o.sections[p].data,a)},r))}),progress:f.b.OK,state_update_time:Date.now()})},a[l.FAILED]=function(t,e){var r=e.payload.error;return h({},t,{progress:f.b.ERR,error:r})},a),{}),m=r(30),y=r(11),k=r(3),O="/api/v4/recommend/recommend";function S(t){var e,r={update_time:t.data.update_time,version:t.data.version,sections:(e={},e[p]={total:0,data:[]},e)},n=t.data.sections.find(function(t){return t&&t.key===p});if(!n||!n.index||!n.data)return r;var a=n.index,o=n.data,i=n.total;return r.sections[p].total=i||0,a.forEach(function(t){var e=o.keyword.find(function(e){return e.key===t.key});e&&r.sections[p].data.push(e)}),r}function _(t){var e=t.limit,r=void 0===e?8:e,n=t.offset,a=void 0===n?0:n,o=t.getStore,i=t.onFinish,c=t.shouldSkipCall,s=t.shouldReset,u=t.version,f=Object(y.d)({bundle:"popsearch",limit:r,offset:a,version:a>0&&u||void 0});return Object(m.a)({apiCall:function(){return function(t){return Object(k.d)(""+O+t)}(f)},actions:[function(){return{type:l.REQUESTED}},function(t,e){return{type:l.SUCCESS,payload:{offset:a,data:S(e),shouldReset:s}}},function(t,e){return{type:l.FAILED,payload:{error:e.error}}}],shouldSkipCall:o&&!c?E(o):c,onFinish:i})}function E(t){return function(e){var r=t(e);return!!(r&&r&&r.state_update_time)&&r.state_update_time>Date.now()-6e4}}var g=[];var C=r(289),j=r(269),w=r(1091),R=r(2115),P=r(2118),x=r.n(P),T=[f.b.INIT,f.b.REQ];function D(t){return t[R.c]}e.default=function(t){var e=t.searchParams,r=o.useContext(j.a).injectAsyncReducer;o.useEffect(function(){var t;r(((t={})[R.c]=b,t))},[r]);var n=Object(i.useDispatch)();o.useEffect(function(){n(_({offset:0,limit:R.a,getStore:D}))},[n]);var a,s=o.useCallback(function(t,e){n(Object(C.b)(t,e))},[n]),u=Object(i.useSelector)(D);if(T.includes((a=u)?a.progress:f.b.INIT))return null;var d=function(t){return t&&t.data?t.data.sections[p].data:g}(u);return!d||d.length<R.b?null:o.createElement("div",{className:x.a.container},o.createElement("div",{className:x.a.list},d.map(function(t,r){var n=t.keyword,a=t.info,i=t.label;if(!n)return null;var u=Object(w.a)(n,e);return o.createElement(c.a,{key:n,keyword:n,recordSearchHistory:s,index:r,searchParams:e,targetSearchParams:u,info:a,intentionid:i})})))}}}]);
//# sourceMappingURL=https://shopee.sg/assets/HotWordList.6b2e1cae5fa95967836a.js.map